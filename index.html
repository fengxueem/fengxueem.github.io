<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>COVID-19</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="index.js"></script>
    <!-- add echarts -->
    <script src="echarts.min.js"></script>
</head>
<body>
    <!-- echarts dom -->
    <div id="covid_daily" style="width:100%;"></div>
    <script type="text/javascript">
        // set covid_daily height automatically
        var autoheight = function(){
            var winHeight=0;
            if (window.innerHeight)
                winHeight = window.innerHeight;
            else if ((document.body) && (document.body.clientHeight))
                winHeight = document.body.clientHeight;
            if (document.documentElement && document.documentElement.clientHeight)
                winHeight = document.documentElement.clientHeight;
            document.getElementById("covid_daily").style.height= winHeight +"px";
        }
        autoheight();
        // init echarts
        var covidDaily = echarts.init(document.getElementById('covid_daily'));
        // chart data
        var option = {
            title: {
                text: '每日省外新增确诊，新增病死'
            },
            tooltip: {},
            legend: {
                data:['新增确诊', '新增病死']
            },
            xAxis: {
                data: [
                    "01-20","01-21","01-22","01-23","01-24","01-25","01-26",
                    "01-27","01-28","01-29","01-30","01-31","02-01","02-02",
                    "02-03","02-04","02-05","02-06","02-07","02-08","02-09",
                    "02-10","02-11","02-12","02-13","02-14","02-15","02-16",
                    "02-17","02-18"
                ]
            },
            yAxis: {},
            dataZoom: [
                // x axis data slider
                {   
                    type: 'slider',
                    start: 0,
                    end: 60
                },
                // x axis data inside slider
                {   
                    type: 'inside', 
                    start: 0,     
                    end: 60
                }
            ],
            series: [
                {
                    name: '新增确诊',
                    type: 'bar',
                    data: [
                        5, 44, 62, 154, 264, 365, 398,
                        480, 619, 705, 762, 755, 669, 726,
                        896, 731, 707, 696, 558, 509, 444,
                        381, 377, 312, 267, 221, 166, 115,
                        79, 56
                    ]
                },
                {
                    name: '新增病死',
                    type: 'bar',
                    data: [
                        null, 0, 0, 0, 1, 2, 0,
                        2, 1, 1, 1, 1, 0, 1,
                        0, 0, 3, 4, 5, 8, 6,
                        5, 3, 12, 5, 4, 3, 5,
                        5, 4
                    ]
                }
            ]
        };
        // bind data with echarts
        covidDaily.setOption(option);
        window.addEventListener("resize",function(){
            autoheight();
            covidDaily.resize();
        });
    </script>
</body>
</html>